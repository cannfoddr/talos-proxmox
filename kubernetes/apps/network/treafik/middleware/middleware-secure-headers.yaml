apiVersion: traefik.containo.us/v1alpha1
kind: Middleware
metadata:
  name: secure-headers
  namespace: traefik
spec:
  headers:
    hostsProxyHeaders:
      - "X-Forwarded-Host"
    stsSeconds: 63072000
    stsIncludeSubdomains: true
    stsPreload: true
    # forceSTSHeader: true # This is a good thing but it can be tricky. Enable after everything works.
    customFrameOptionsValue: SAMEORIGIN # https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options
    contentTypeNosniff: true
    browserXssFilter: true
    referrerPolicy: "same-origin"
    customResponseHeaders:
      X-Robots-Tag: "none,noarchive,nosnippet,notranslate,noimageindex," # disable search engines from indexing home server
      server: "" # hide server info from visitors
